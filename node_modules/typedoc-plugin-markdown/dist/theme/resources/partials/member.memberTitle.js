"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.memberTitle = void 0;
const markdown_1 = require("../../../libs/markdown");
const utils_1 = require("../../../libs/utils");
const typedoc_1 = require("typedoc");
/**
 * Renders the main member title.
 *
 * @category Member Partials
 */
function memberTitle(model) {
    const md = [];
    const name = [];
    if (model?.kind === typedoc_1.ReflectionKind.Class &&
        model.flags?.includes('Abstract')) {
        name.push((0, markdown_1.backTicks)('abstract') + ' ');
    }
    name.push(`${/\\/.test(model.name) ||
        (model.name.startsWith('[') && model.signatures?.length)
        ? (0, markdown_1.backTicks)(model.name)
        : (0, utils_1.escapeChars)(model.name)}`);
    if (model.signatures?.length ||
        model.type?.declaration?.signatures?.length) {
        name.push('()');
    }
    if (model.typeParameters?.length) {
        const typeParameters = model.typeParameters
            .map((typeParameter) => typeParameter.name)
            .join(', ');
        name.push(`${`\\<${typeParameters}\\>`}`);
    }
    if (model.flags.isOptional) {
        name.push('?');
    }
    if (model.isDeprecated && model.isDeprecated()) {
        md.push((0, markdown_1.strikeThrough)(name.join('')));
    }
    else {
        md.push(name.join(''));
    }
    return md.join(': ');
}
exports.memberTitle = memberTitle;
